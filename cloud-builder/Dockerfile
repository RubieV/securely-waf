FROM gcr.io/google.com/cloudsdktool/cloud-sdk

ARG SECURELY_WAF_IMAGE_SOURCE
ARG LOGSTASH_HOST
ARG GRPC_URL
ARG ELASTIC_USERNAME
ARG ELASTIC_PASSWORD

ENV SECURELY_WAF_IMAGE_SOURCE=${SECURELY_WAF_IMAGE_SOURCE}
ENV LOGSTASH_HOST=${LOGSTASH_HOST}
ENV GRPC_URL=${GRPC_URL}
ENV USERNAME=${ELASTIC_USERNAME}
ENV PASSWORD=${ELASTIC_PASSWORD}

COPY docker-entrypoint.sh /

ENTRYPOINT ["/docker-entrypoint.sh"]
